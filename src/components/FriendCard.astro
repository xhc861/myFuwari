---
interface Props {
	name: string;
	desc: string;
	avatar: string;
	url: string;
	pin?: boolean;
}

const { name, desc, avatar, url, pin = false } = Astro.props;
---

<a
	href={url}
	target="_blank"
	rel="noopener noreferrer"
	class={`friend-card group relative overflow-hidden rounded-xl transition-all duration-300 ${
		pin ? "ring-2 ring-blue-400 dark:ring-blue-500" : ""
	}`}
>
	<!-- 背景渐变效果 -->
	<div class="absolute inset-0 bg-gradient-to-br from-blue-50 to-transparent dark:from-blue-950/30 dark:to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>

	<!-- 主卡片内容 -->
	<div class="relative z-10 p-5 flex items-center gap-4 h-full">
		<!-- 头像 -->
		<div class="flex-shrink-0">
			{
				avatar && (
					<img
						src={avatar}
						alt={`${name} avatar`}
						class="w-14 h-14 rounded-full object-cover shadow-md group-hover:shadow-lg transition-shadow duration-300 ring-2 ring-white dark:ring-gray-700"
					/>
				)
			}
		</div>

		<!-- 文字内容 -->
		<div class="flex-1 min-w-0">
			<div class="flex items-center gap-2">
				<h3 class="text-base font-bold text-gray-900 dark:text-gray-100 truncate group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors duration-300">
					{name}
				</h3>
				{pin && <span class="text-xs bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300 px-2 py-0.5 rounded-full font-semibold flex-shrink-0">置顶</span>}
			</div>
			<p class="text-sm text-gray-600 dark:text-gray-400 line-clamp-2 group-hover:text-gray-700 dark:group-hover:text-gray-300 transition-colors duration-300">
				{desc || "一个有趣的博客"}
			</p>
		</div>

		<!-- 右侧箭头 -->
		<div class="flex-shrink-0 text-gray-400 dark:text-gray-500 group-hover:text-blue-500 dark:group-hover:text-blue-400 transition-all duration-300 group-hover:translate-x-1">
			<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
				<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
			</svg>
		</div>
	</div>

	<!-- 底部装饰线 -->
	<div class="absolute bottom-0 left-0 right-0 h-0.5 bg-gradient-to-r from-transparent via-blue-400 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
</a>

<style>
	.friend-card {
		background: linear-gradient(135deg, rgba(255, 255, 255, 0.8) 0%, rgba(255, 255, 255, 0.6) 100%);
		backdrop-filter: blur(10px);
		border: 1px solid rgba(255, 255, 255, 0.3);
		min-height: 100px;
	}

	:global(.dark) .friend-card {
		background: linear-gradient(135deg, rgba(31, 41, 55, 0.8) 0%, rgba(31, 41, 55, 0.6) 100%);
		border-color: rgba(75, 85, 99, 0.3);
	}

	.friend-card:hover {
		transform: translateY(-4px);
		box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
	}

	:global(.dark) .friend-card:hover {
		box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.3);
	}
</style>
